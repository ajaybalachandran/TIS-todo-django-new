{% extends 'base.html' %}
{%block body_block%}
    <div class="container-fluid">
      <div class="row">
        <div class="col-1"></div>
        <div class="col-10">
          <div class="row">
            <div class="col-6 left">
                <div class="row" style="margin-top: 80px; min-height: 100vh;" id="top-left">
                    <div class="col-12">

                      <div class="row">
                        <div class="col-0"></div>
                        <div class="col-12 d-flex justify-content-center">
                          <div>
                            <h2 class="text-muted">Tasks</h2>
                          </div>
                        </div>
                        <div class="col-0"></div>
                      </div>
                      
                      {% if  pending_tasks%}
                        {% for task in pending_tasks %}
                          <ol class="list-group mb-3 v1" id="{{task.id}}">
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="mt-1">
                                  
                                    <div>
                                        <input class="checkboxes" type="checkbox" value="{{task.id}}" id="check{{task.id}}">
                                    </div>
                                  
                                    
                                </div>  
                              <div class="ms-2 me-auto">
    
                                <div class="fw-bold" id="{{task.id}}b_task_name">{{task.task_name}}</div>
                                <p style="font-size: x-small; margin:0;">{{task.added_date}}</p>
                              </div>
                              <div class="me-5 d-flex align-items-center">
                                <div class="mt-1">
                                    <a href="{%url 'todo-details'%}">
                                        <i class="fa-solid fa-arrow-up-right-from-square text-muted"></i>
                                    </a>
                                </div>
                              </div>
                            </li>
                          </ol>
                        {% endfor %}
                      {% endif %}
                      <ul  class="list-group mb-3 v1" id="display-data">

                      </ul>
                    </div>
                </div>
            </div>




            <div class="col-6 right">
                <div class="row" style="margin-top: 80px; min-height: 100vh;" id="top-right">
                    <div class="col-12">

                      <div class="row">
                        <div class="col-0"></div>
                        <div class="col-12 d-flex justify-content-center">
                          <div>
                            <h2 class="text-muted">Todos</h2>
                          </div>
                        </div>
                        <div class="col-0"></div>
                      </div>
                      {% if todos %}
                        {% for todo in todos %}
                          <ol class="list-group mb-3 v1" id="{{todo.todo_task.id}}right">
                            <li class="list-group-item d-flex justify-content-between align-items-start">
                              
                              <div class="ms-2 me-auto d-flex">
                                <div>
                                  <div class="fw-bold">{{todo.todo_task.task_name}}</div>
                                  <p style="font-size: x-small; margin:0;">{{todo.todo_task.added_date}}</p>

                                  <!-- here the notes -->
                                  <div  style="max-width: 100px; display:flex; ">
                                    <div>
                                      <p id="task_note" style="text-overflow: ellipsis;"></p>
                                    </div>
                                  </div>
                                </div>

                                <div class="mt-1 ms-4">
                                  <a href="{%url 'todo-details'%}">
                                    <i class="fa-solid fa-arrow-up-right-from-square text-muted"></i>
                                  </a>
                                </div>
                              </div>
                              
                              <div class="d-flex flex-column">
                                <div style="align-self: flex-end;" id="{{todo.id}}badge_live">
                                  <span class="badge  rounded-pill" id="{{todo.id}}badge" 
                                    style="background-color:{{todo.todo_status.stat_color}};">&nbsp&nbsp&nbsp
                                  </span>
                                </div>
                                <div class="mt-2 d-flex">
                                  <div class="me-2">
                                    <input type="submit" value="Note" id="noteBtn1" onclick="taskNotePopup()" 
                                      class="btn btn-success"                         
                                      style="font-size: xx-small;">
                                  </div>
                                  <div id="{{todo.id}}btn_live_change">
                                    <div id="{{todo.id}}btn_live">
                                      <input type="submit" value="{{todo.todo_status}}" id="{{todo.id}}"  
                                        class="btn btn-primary stat_btns"                         
                                        style="font-size: xx-small;">
                                    </div>
                                  </div>

                                  <!-- <div id="{{todo.id}}btn_live_change">

                                  </div> -->
                                  
                                </div>
                              </div>
                              
                            </li>
                          </ol>
                        {% endfor %}
                      {% endif %}
                      <ul  class="list-group mb-3 v1" id="display-todo-data">

                      </ul>
                    </div>
                </div>
                
            </div>
        </div>
        </div>
        <div class="col-1">
          <div class="row" style="margin-top: 80px;">
            <div class="col-12">
              <a class="btn btn-sm btn-primary" id="new_task_btn" style="font-size: x-small;">
                <i class="fa-solid fa-plus me-1"></i><span>Task</span>
              </a>

              <!-- <a class="btn btn-sm btn-primary" id="new_notes_btn" style="font-size: x-small;">
                <i class="fa-solid fa-note-sticky"></i>
                <span>Notes</span>
              </a> -->

            </div>
          </div>
        </div>
      </div>


        <div class="row">
          <div class="col-1"></div>
          <div class="col-10" id="new_task_data" style="display: none;">
            {% include 'new_task_form.html' %}
          </div>
          <div class="col-1"></div>
        </div>

        <div class="container d-flex justify-content-center"  id="myid">

          <div class="row" id="popupForm" style="display: none; left: 45%;
            top: 5%;
            transform: translate(-5%, -230%);
            border: 3px solid #999999;
            z-index: 9; width: 50%;
          ">
            
            <div class="formPopup p-3" style="background-color: #f7f7f7;">
              <form action="#" onsubmit="submitfunction(); return false">
                <div>
                  <h2>Add Task Note</h2>
                </div>
                <div class="mb-3">
                  <textarea name="" id="note" cols="15" rows="5" class="form-control" required></textarea>
                </div>
                <div class="">
                  <input type="submit" name="" id="note_create_btn" value="submit" class="btn btn-sm btn-success">
                  <!-- <a href="" class="btn" id="note_create_btn" onclick="closeForm(); return false">Create</a> -->
                  <a href="" class="btn btn-sm btn-danger"  id="note_close_btn" onclick="closeForm(); return false">Close</a>
                </div>
                
              
              </form>
                
            </div>
          </div>
        </div>
          
        
    
    </div>
{%endblock%}